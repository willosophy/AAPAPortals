trigger: none
variables:
  solutionName: CUCore

stages:
  - stage: Export_Solutions
    jobs:
      - template: jobs/solution-export/parallel-export.yml
        parameters:
          artifactName: "solution-artifact"
          environment: $(Environment)
          SolutionsName:
            - ${{ variables.solutionName }}
  - stage: Commit_Solutions
    dependsOn: Export_Solutions
    jobs:
      - template: jobs/solution-unpack/solution-unpack.yml
        parameters:
          artifactName: "solution-artifact"
          SolutionsName:
            - ${{ variables.solutionName }}
      - template: jobs/solution-export/aggregate-commit.yml
        parameters:
          artifactName: "solution-artifact"
          solutionName:
            - ${{ variables.solutionName }}
