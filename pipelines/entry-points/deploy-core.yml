name: $(Build.DefinitionName)-$(Build.SourceBranch)-$(Date:yyyyMMdd)

variables: 
  SolutionContentDirectory: "solutions/CUCore"

trigger:
  batch: true
  branches:
    include:
      - master
  paths:
    include:
      - ${{ variables.SolutionContentDirectory }}

stages:
  - template: ../stages/build-and-release.yml
    parameters: 
      SolutionContentDirectory: ${{ variables.SolutionContentDirectory }}
      SolutionName: "CUCore"
      TargetEnvironment: "release-target"